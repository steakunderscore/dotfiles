#!/usr/bin/env python

import signal
import sys
import re
from urlparse import urlparse
from subprocess import call

def signal_handler(signal, frame):
    sys.exit(0)

signal.signal(signal.SIGINT, signal_handler)

cmd = ['/sbin/ping']

if len(sys.argv) > 1:
    host = sys.argv[1]
    pattern = re.compile(r":", re.IGNORECASE)
    if pattern.search(host):
        host = urlparse(sys.argv[1]).hostname
    cmd.append(host)

call(cmd)
