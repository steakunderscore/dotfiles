# vim: set ft=sh:

fresh freshshell/fresh bin/fresh --bin
fresh freshshell/fresh contrib/completion/fresh-completion.zsh --file=completion/_fresh

# Config
fresh-options --file
  fresh config/\*
fresh-options

# bundler
fresh config/bundle/config --file=~/.bundle/config

# termite
fresh config/config/termite/config --file=~/.config/termite/config

# i3
fresh config/i3/config.erb --file=~/.i3/config --filter="erb"
fresh config/i3/statusbar-conky.conf --file=~/.i3/statusbar-conky.conf
fresh config/i3/statusbar-conky-laptop.conf --file=~/.i3/statusbar-conky-laptop.conf
fresh config/i3/conky-wrapper.sh --bin=~/.i3/conky-wrapper.sh

# Zsh
fresh-options --file=~/.zshrc --marker
  fresh shell/zsh/\*

  fresh rupa/z z.sh
  fresh robbyrussell/oh-my-zsh lib/grep.zsh
  fresh robbyrussell/oh-my-zsh lib/git.zsh
  fresh robbyrussell/oh-my-zsh plugins/git-flow/git-flow.plugin.zsh
  fresh bjeanes/dot-files shells/zsh/lib/completion-waiting-dots.zsh

  # Include all common shell config
  fresh freshshell/fresh contrib/source-build.sh

  # de-duplicate PATH
  fresh akatov/dotfiles zshrc/dedup-path --ref=55e80fe
fresh-options

# See reason above
fresh shell/zsh/completions/_gh --file=completion/_gh
fresh thoughtbot/dotfiles zsh/completion/_ag --file=completion/_ag

fresh zsh-users/zsh-syntax-highlighting . --file=~/.zsh/plugins/zsh-syntax-highlighting/

filter_vundle_lines() {
  grep -v ^Bundle
}

# Vim
fresh-options --file=~/.vimrc --marker='"'
  fresh vim/leader.vim
  fresh vim/plug.vim
  fresh vim/plugin_config/\*
  fresh vim/config/\*
  fresh vim/vimrc

  fresh jasoncodes/dotfiles vim/mappings/indent.vim
  fresh jasoncodes/dotfiles vim/mappings/pasteboard.vim
  fresh jasoncodes/dotfiles vim/mappings/whitespace.vim --filter=filter_vundle_lines
  fresh jasoncodes/dotfiles vim/config/undo.vim
  fresh jasoncodes/dotfiles vim/config/auto_mkdir.vim
  fresh jasoncodes/dotfiles vim/config/search.vim --filter=filter_vundle_lines
  fresh jasoncodes/dotfiles vim/config/cursor.vim
  fresh jasoncodes/dotfiles vim/config/bubbling.vim --filter=filter_vundle_lines
  fresh jasoncodes/dotfiles vim/functions.vim
  fresh jasoncodes/dotfiles vim/plugins/markdown.vim --filter=filter_vundle_lines
  fresh jasoncodes/dotfiles vim/plugins/ruby.vim --filter=filter_vundle_lines
  fresh hackling/dotfiles vim/keybindings/filename-to-clipboard.vim
fresh-options
fresh vim/colors --file=~/.vim/colors/
fresh vim/spell --file=~/.vim/spell/
fresh junegunn/vim-plug plug.vim --file=~/.vim/autoload/plug.vim

# Shell
fresh shell/aliases/\*
fresh shell/functions/\*
fresh shell/config/\*
fresh shell/\*

# irb
fresh-options --file=~/.irbrc
  fresh config/irb/encoding.rb
  fresh config/irb/irbrc.rb
  fresh config/irb/prompt.rb
fresh-options

# bin
fresh-options --bin
  fresh twe4ked/catacomb bin/catacomb
  fresh twe4ked/twitter-whois bin/twitter-whois

  fresh jasoncodes/dotfiles bin/fix-newline-eof
  fresh jasoncodes/dotfiles bin/gemdiff
  fresh jasoncodes/dotfiles bin/loop
  fresh jasoncodes/dotfiles bin/pidof
  fresh jasoncodes/dotfiles bin/timein
  fresh jasoncodes/dotfiles bin/vacuumdball
  fresh jasoncodes/dotfiles bin/vimdiff

  fresh garybernhardt/selecta selecta
  fresh garybernhardt/dotfiles bin/run-command-on-git-revisions
  fresh pengwynn/dotfiles bin/git-pr
  fresh git/git contrib/diff-highlight/diff-highlight --ref=3dbfe2b8ae94cbdae5f3d32581aedaa5510fdc87

  fresh bin/\*
fresh-options
fresh sivel/speedtest-cli speedtest.py --bin=~/bin/speedtest

# git
fresh-options --file=~/.gitignore --marker
  fresh github/gitignore Global/Linux.gitignore
  fresh github/gitignore Global/Vim.gitignore
  fresh git/gitignore
fresh-options

# git hooks
fresh https://gist.github.com/5431107.git pre-commit --bin=~/bin/_git-pre-commit-hook
mkdir -p ~/.git_template/hooks/
ln -sf ~/bin/_git-pre-commit-hook ~/.git_template/hooks/pre-commit

fresh_after_build() {
  if which chflags &> /dev/null; then
    chflags hidden ~/bin
  fi
}
